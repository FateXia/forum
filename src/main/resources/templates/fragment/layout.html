<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<head>


    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>南昌航空答疑系统</title>
    <link rel="stylesheet" href="../../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}"/>
    <script type="application/javascript" src="../../static/js/jquery.js" th:src="@{/js/jquery.js}" ></script>
    <script language="JavaScript" src="../../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}" ></script>

    <!-- include google-code-prettify -->

    <link rel="stylesheet" href="../../static/prettify/prettify.css" th:href="@{/prettify/prettify.css}" />
    <script type="text/javascript" src="../../static/prettify/prettify.js" th:src="@{/prettify/prettify.js}" ></script>

    <script>
        $(document).ready(function() {
            $('#summernote').summernote({
                callbacks: {
                    onImageUpload: function(files) {
                        console.log('Upload image start...');
                        sendFile(files[0]);
                        console.log('Upload image end...');
                    }
                },

                height: 200,
                tabsize: 2,
                // close prettify Html
                prettifyHtml:true,
                toolbar:[
                    ['style', ['bold', 'italic', 'underline', 'clear']],
                    ['Insert', ['picture', 'link', 'video','table','hr']],
                    ['Font Style', ['fontsize', 'color','bold','italic','underline','clear']],
                    ['Paragraph style', ['style','ol','ul','paragraph','height']],
                    ['Misc', ['fullscreen','codeview','undo','redo']],
                    // Add highlight plugin
                    ['highlight', ['highlight']]
                ],
                lang:'zh-CN'
            });



        });







        function sendFile(file) {
            data = new FormData();
            data.append("file", file);
            url = "/upload";
            console.log(url);
            $.ajax({
                data: data,
                type: "POST",
                url: url,
                cache: false,
                contentType: false,
                processData: false,
                success: function (url) {
                    console.log('url:>>>'+url);
                    $('#summernote').summernote('insertImage', url);
                }
            });
        }
    </script>

</head>

<body>
<div th:fragment="topnav">

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">答疑系统</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#" th:href="@{/index}">首页</a></li>
                    <li><a href="#about" th:href="@{/userList}">我的问题</a></li>
                    <li><a href="#contact" th:href="@{/CreamList}">精华推荐</a></li>
                    <li><a href="#contact" th:href="@{/login}">登录/注册</a></li>
                </ul>


                <form class="navbar-form navbar-right" method="get" th:action="@{/question/searcher}">
                    <div class="form-group">
                        <input type="text" name="key"  class="form-control" placeholder="Search"/>
                    </div>
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>


            </div><!--/.nav-collapse -->
        </div>
    </nav>

</div> <!-- 导航条 -->

<div layout:fragment="content">


</div>

<div layout:fragment="footer">
    <div class="clearfix">

    </div>

    <div style="width: 100%; height: 50px; background-color: #000000; border-radius:5px 5px 0px 0px;">
        <p style="color: white;text-align: center; padding-top: 20px; font-size: 15px;font-family: '微软雅黑';">南昌航空大学答疑系统<span class="glyphicon glyphicon-copyright-mark"></span></p>
    </div>

</div>

<!-- include summernote css/js-->
<link href="../../static/dist/summernote.css"  th:href="@{/dist/summernote.css}"  rel="stylesheet"/>
<script src="../../static/dist/summernote.js" th:src="@{/dist/summernote.js}"></script>

<script src="../../static/js/summernote-ext-highlight.js" th:src="@{/js/summernote-ext-highlight.js}" ></script>

</body>

</html>